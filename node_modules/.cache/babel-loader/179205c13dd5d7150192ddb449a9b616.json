{"ast":null,"code":"import _classCallCheck from\"/Users/user1/Desktop/temporary/front-end/front-end-nc-news/nc-news-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/user1/Desktop/temporary/front-end/front-end-nc-news/nc-news-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/user1/Desktop/temporary/front-end/front-end-nc-news/nc-news-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/user1/Desktop/temporary/front-end/front-end-nc-news/nc-news-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/user1/Desktop/temporary/front-end/front-end-nc-news/nc-news-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{getArticles}from'../API';import ArticleCard from'./ArticleCard';var ArticlesList=/*#__PURE__*/function(_React$Component){_inherits(ArticlesList,_React$Component);function ArticlesList(){var _getPrototypeOf2;var _this;_classCallCheck(this,ArticlesList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ArticlesList)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={articles_list:[],isLoading:true,err:null};_this.fetchArticles=function(){var _this$props=_this.props,topic=_this$props.topic,sort_by=_this$props.sort_by,article_id=_this$props.article_id;getArticles(topic,sort_by,article_id).then(function(articles){_this.setState({articles_list:articles,isLoading:false});}).catch(function(err){return _this.setState({err:err.response,isLoading:false});});};return _this;}_createClass(ArticlesList,[{key:\"render\",value:function render(){if(this.state.isLoading===true)return React.createElement(\"p\",null,\"Loading....\");if(this.state.err)return React.createElement(\"p\",{id:\"error\"},this.state.err.status,\": Article not found.\");return React.createElement(ArticleCard,{votes:this.state.articles_list.votes,article_id:this.props.article_id,articles_list:this.state.articles_list,user:this.props.user});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(this.props.sort_by!==prevProps.sort_by)this.fetchArticles();if(this.props.topic!==prevProps.topic)this.fetchArticles();}},{key:\"componentDidMount\",value:function componentDidMount(){this.fetchArticles();}}]);return ArticlesList;}(React.Component);export default ArticlesList;","map":{"version":3,"sources":["/Users/user1/Desktop/temporary/front-end/front-end-nc-news/nc-news-app/src/Components/ArticlesList.jsx"],"names":["React","getArticles","ArticleCard","ArticlesList","state","articles_list","isLoading","err","fetchArticles","props","topic","sort_by","article_id","then","articles","setState","catch","response","status","votes","user","prevProps","Component"],"mappings":"2wBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,QAA5B,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,C,GAEMC,CAAAA,Y,maACLC,K,CAAQ,CACPC,aAAa,CAAE,EADR,CAEPC,SAAS,CAAE,IAFJ,CAGPC,GAAG,CAAE,IAHE,C,OA2BRC,a,CAAgB,UAAM,iBACkB,MAAKC,KADvB,CACbC,KADa,aACbA,KADa,CACNC,OADM,aACNA,OADM,CACGC,UADH,aACGA,UADH,CAErBX,WAAW,CAACS,KAAD,CAAQC,OAAR,CAAiBC,UAAjB,CAAX,CACEC,IADF,CACO,SAACC,QAAD,CAAc,CACnB,MAAKC,QAAL,CAAc,CAAEV,aAAa,CAAES,QAAjB,CAA2BR,SAAS,CAAE,KAAtC,CAAd,EACA,CAHF,EAIEU,KAJF,CAIQ,SAACT,GAAD,QAAS,OAAKQ,QAAL,CAAc,CAAER,GAAG,CAAEA,GAAG,CAACU,QAAX,CAAqBX,SAAS,CAAE,KAAhC,CAAd,CAAT,EAJR,EAKA,C,+EA5BQ,CACR,GAAI,KAAKF,KAAL,CAAWE,SAAX,GAAyB,IAA7B,CAAmC,MAAO,4CAAP,CACnC,GAAI,KAAKF,KAAL,CAAWG,GAAf,CAAoB,MAAO,0BAAG,EAAE,CAAC,OAAN,EAAe,KAAKH,KAAL,CAAWG,GAAX,CAAeW,MAA9B,wBAAP,CACpB,MACC,qBAAC,WAAD,EACC,KAAK,CAAE,KAAKd,KAAL,CAAWC,aAAX,CAAyBc,KADjC,CAEC,UAAU,CAAE,KAAKV,KAAL,CAAWG,UAFxB,CAGC,aAAa,CAAE,KAAKR,KAAL,CAAWC,aAH3B,CAIC,IAAI,CAAE,KAAKI,KAAL,CAAWW,IAJlB,EADD,CAQA,C,8DACkBC,S,CAAW,CAC7B,GAAI,KAAKZ,KAAL,CAAWE,OAAX,GAAuBU,SAAS,CAACV,OAArC,CAA8C,KAAKH,aAAL,GAC9C,GAAI,KAAKC,KAAL,CAAWC,KAAX,GAAqBW,SAAS,CAACX,KAAnC,CAA0C,KAAKF,aAAL,GAC1C,C,6DAEmB,CACnB,KAAKA,aAAL,GACA,C,0BA1ByBR,KAAK,CAACsB,S,EAsCjC,cAAenB,CAAAA,YAAf","sourcesContent":["import React from 'react';\nimport { getArticles } from '../API';\nimport ArticleCard from './ArticleCard';\n\nclass ArticlesList extends React.Component {\n\tstate = {\n\t\tarticles_list: [],\n\t\tisLoading: true,\n\t\terr: null\n\t};\n\n\trender() {\n\t\tif (this.state.isLoading === true) return <p>Loading....</p>;\n\t\tif (this.state.err) return <p id=\"error\">{this.state.err.status}: Article not found.</p>;\n\t\treturn (\n\t\t\t<ArticleCard\n\t\t\t\tvotes={this.state.articles_list.votes}\n\t\t\t\tarticle_id={this.props.article_id}\n\t\t\t\tarticles_list={this.state.articles_list}\n\t\t\t\tuser={this.props.user}\n\t\t\t/>\n\t\t);\n\t}\n\tcomponentDidUpdate(prevProps) {\n\t\tif (this.props.sort_by !== prevProps.sort_by) this.fetchArticles();\n\t\tif (this.props.topic !== prevProps.topic) this.fetchArticles();\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.fetchArticles();\n\t}\n\n\tfetchArticles = () => {\n\t\tconst { topic, sort_by, article_id } = this.props;\n\t\tgetArticles(topic, sort_by, article_id)\n\t\t\t.then((articles) => {\n\t\t\t\tthis.setState({ articles_list: articles, isLoading: false });\n\t\t\t})\n\t\t\t.catch((err) => this.setState({ err: err.response, isLoading: false }));\n\t};\n}\n\nexport default ArticlesList;\n"]},"metadata":{},"sourceType":"module"}